---
import BaseLayout from '@layouts/BaseLayout.astro';
import { getGitPageDoc, sbFieldPath, sbObjectId } from '@lib/stackbit';
import SectionRenderer from '@/components/SectionRenderer.astro';
const pageDoc: any = await getGitPageDoc('porting');
import Button from '@/components/Button.astro';

const portingItems = [
  { title: "Supercharger", desc: "Improves airflow and boost efficiency. Gains of 20–40+ WHP are common when paired with tuning." },
  { title: "Bearing Plate", desc: "Reduce turbulence and drag on the rotor path, enhancing blower response." },
  { title: "Snout", desc: "Increases intake velocity and efficiency, crucial for maximizing your supercharger’s output." },
  { title: "Whipple", desc: "Precision Whipple porting can dramatically increase airflow and power, especially in high-boost setups." },
  { title: "Throttle Body", desc: "Port-matched throttle bodies reduce intake restriction and improve throttle response and power delivery." },
  { title: "Cylinder Head", desc: "Full porting improves combustion efficiency, flow, and performance — essential for high-RPM and boosted builds." },
  { title: "Intake Manifold", desc: "A ported intake manifold optimizes air distribution to each cylinder, supporting high-HP goals with better balance." },
];
---

<BaseLayout>
  <div {...sbObjectId('content/pages/porting.json')}>
  <div aria-hidden="true" class="hidden" {...sbFieldPath('title')}>{pageDoc?.title ?? 'Porting'}</div>
  {Array.isArray(pageDoc?.sections) && pageDoc.sections.length > 0 && (
    <SectionRenderer sections={pageDoc.sections} baseFieldPath="sections" />
  )}
  <!-- HERO (compact header, no full-screen background) -->
  <section class="section-divider section-divider-carbon bg-black/70 border-b border-white/10">
    <div class="mx-auto w-full max-w-7xl px-0 md:px-6 py-8 md:py-10 grid grid-cols-1 md:grid-cols-[1.2fr_0.8fr] gap-6 items-center">
      <div>
        <h1 class="text-3xl md:text-5xl font-ethno text-accent mb-3" {...sbFieldPath('title')}>
          {pageDoc?.title ?? 'Porting Services'}
        </h1>
        <p class="text-white/80 max-w-[68ch] font-captain text-base md:text-lg">
          Superchargers, snouts, throttle bodies, intake manifolds, and cylinder heads — blueprint‑level porting for real, repeatable gains.
        </p>
        <div class="mt-5 flex flex-wrap gap-3 luxury-hover-scale">
          <span class="btn-glass btn-dark btn-xs">Flow‑bench guided</span>
          <span class="btn-glass btn-dark btn-xs">CNC + hand finish</span>
          <span class="btn-glass btn-dark btn-xs">Matched interfaces</span>
          <span class="btn-glass btn-dark btn-xs">OEM‑level fit</span>
        </div>
        <div class="mt-6 flex flex-col sm:flex-row gap-4">
          <Button href="/contact" text="Ask a Porting Specialist" size="md" variant="default" />
          <Button href="/schedule" text="Schedule Dropoff" size="md" variant="ghost" />
        </div>
      </div>
      <div class="order-first md:order-last">
        <figure class="rounded-xl border border-white/10 bg-black/50 overflow-hidden shadow-xl">
          <img src="/images/snouts/fas-ported-snout.png" alt="Ported snout detail" class="w-full h-[220px] md:h-[260px] object-cover" />
          <figcaption class="p-3 text-white/60 text-xs">Ported snout: smoother transition, corrected CSA, matched to throttle body and case.</figcaption>
        </figure>
      </div>
    </div>
  </section>

  <!-- OVERVIEW STRIP -->
  <section class="industrial-glow luxury-hover-scale luxury-carbon-effect relative w-full bg-black/60 backdrop-blur-md border-b border-white/10">
    <div class="mx-auto w-full max-w-7xl px-0 md:px-6">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-0">
        <div class="flex items-center gap-3 py-4 px-4 border-r border-white/10">
          <div class="w-2 h-2 rounded-full bg-accent"></div>
          <div class="text-white/80 text-xs md:text-sm font-captain tracking-[0.14em]">Flow‑Bench Guided</div>
        </div>
        <div class="flex items-center gap-3 py-4 px-4 border-r border-white/10">
          <div class="w-2 h-2 rounded-full bg-accent"></div>
          <div class="text-white/80 text-xs md:text-sm font-captain tracking-[0.14em]">CNC &amp; Hand‑Finish</div>
        </div>
        <div class="flex items-center gap-3 py-4 px-4 border-r border-white/10">
          <div class="w-2 h-2 rounded-full bg-accent"></div>
          <div class="text-white/80 text-xs md:text-sm font-captain tracking-[0.14em]">Matched Components</div>
        </div>
        <div class="flex items-center gap-3 py-4 px-4">
          <div class="w-2 h-2 rounded-full bg-accent"></div>
          <div class="text-white/80 text-xs md:text-sm font-captain tracking-[0.14em]">OEM‑Level Fit &amp; Finish</div>
        </div>
      </div>
    </div>
    <div class="mx-auto w-full max-w-7xl px-0 md:px-6">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-3 py-4">
        <div class="rounded-lg border border-white/10 bg-black/50 p-3 text-center">
          <div class="text-2xl font-borg text-white">±0.5%</div>
          <div class="text-xs text-white/60">CSA variance target</div>
        </div>
        <div class="rounded-lg border border-white/10 bg-black/50 p-3 text-center">
          <div class="text-2xl font-borg text-white">≤0.001"</div>
          <div class="text-xs text-white/60">Flatness at flanges</div>
        </div>
        <div class="rounded-lg border border-white/10 bg-black/50 p-3 text-center">
          <div class="text-2xl font-borg text-white">20–40+ whp</div>
          <div class="text-xs text-white/60">Typical SC gains*</div>
        </div>
        <div class="rounded-lg border border-white/10 bg-black/50 p-3 text-center">
          <div class="text-2xl font-borg text-white">Bench‑guided</div>
          <div class="text-xs text-white/60">Validation process</div>
        </div>
      </div>
      <p class="text-white/50 text-[11px] pb-4">* With proper tuning and supporting mods. Results vary by platform.</p>
    </div>
  </section>

  <!-- WHAT WE PORT (driven by data array) -->
  <section class="py-12 md:py-16">
    <div class="mx-auto w-full max-w-7xl px-0 md:px-6">
      <h2 class="text-center text-3xl md:text-4xl font-ethno text-accent mb-8 md:mb-12 tracking-wide">What We Port</h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6">
        {portingItems.map((item) => (
          <div class="group relative rounded-xl border border-white/10 bg-[#0b0b0c] overflow-hidden transition-transform duration-300 hover:-translate-y-1 hover:shadow-xl hover:shadow-black/50">
            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent pointer-events-none"></div>
            <div class="relative p-5 z-10">
              <div class="text-primary font-ethno text-xl drop-shadow">{item.title}</div>
              <p class="text-white/75 text-sm font-captain mt-2 max-w-[60ch]">
                {item.desc}
              </p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- METHOD & DELIVERABLES -->
  <section class="bg-black/70 border-y border-white/10 py-10 md:py-14">
    <div class="mx-auto w-full max-w-7xl px-0 md:px-6 grid md:grid-cols-2 gap-6 md:gap-10">
      <div class="rounded-xl border border-white/10 bg-black/60 p-5 shadow-xl">
        <h3 class="text-xl font-borg text-white mb-2">Methodology</h3>
        <ul class="list-disc pl-5 text-white/70 text-sm space-y-2">
          <li>Baseline measurement and inspection; document casting lines and restrictions.</li>
          <li>CNC rough‑in to targeted CSA; hand‑blend for surface finish and transition quality.</li>
          <li>Port‑matching across interfaces (snout ⇄ TB ⇄ case ⇄ manifold).</li>
          <li>Final inspection: CSA verification, concentricity, fastener land integrity.</li>
        </ul>
      </div>
      <div class="rounded-xl border border-white/10 bg-black/60 p-5 shadow-xl">
        <h3 class="text-xl font-borg text-white mb-2">Deliverables</h3>
        <ul class="list-disc pl-5 text-white/70 text-sm space-y-2">
          <li>Before/after photos &amp; notes.</li>
          <li>Recommended TB size / injector / belt guidance where applicable.</li>
          <li>Gasket surfaces protected; threads chased; components cleaned and bagged.</li>
          <li>Optional polish or ceramic coat on request.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- TURNAROUND / NOTES -->
  <section class="py-10 md:py-14">
    <div class="mx-auto w-full max-w-7xl px-0 md:px-6 grid md:grid-cols-3 gap-6">
      <div class="rounded-xl border border-white/10 bg-black/60 p-5 shadow-xl">
        <h3 class="text-lg font-borg text-white mb-2">Typical Gains</h3>
        <p class="text-white/70 text-sm leading-relaxed">Supercharger/snout pairs commonly see +20–40 WHP with proper tuning and supporting mods. Cylinder head &amp; intake work supports higher RPM power retention.</p>
      </div>
      <div class="rounded-xl border border-white/10 bg-black/60 p-5 shadow-xl">
        <h3 class="text-lg font-borg text-white mb-2">Turnaround</h3>
        <p class="text-white/70 text-sm leading-relaxed">Most jobs 5–10 business days after parts are received. Expedited options available.</p>
      </div>
      <div class="rounded-xl border border-white/10 bg-black/60 p-5 shadow-xl">
        <h3 class="text-lg font-borg text-white mb-2">Compatibility</h3>
        <p class="text-white/70 text-sm leading-relaxed">Hellcat/Redeye/Demon, Trackhawk/Durango, HEMI 5.7/6.1/6.4, Whipple &amp; other positive displacement blowers. Ask about other platforms.</p>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="bg-transparent py-12 md:py-16 text-center">
    <div class="flex flex-col gap-5 items-center">
      <Button href="/contact" text="Start a Porting Project" size="lg" variant="default" />
      <Button href="/schedule" text="Book Install or Dropoff" size="md" variant="ghost" />
    </div>
  </section>
  </div>
</BaseLayout>
