---
import DashboardShell from '@components/admin/DashboardShell.tsx'
import Card from '@components/admin/Card.tsx'
const stats = await fetch('/.netlify/functions/orders-list').then(r=>r.json()).catch(()=>({data:[]}))
const countOrders = stats?.data?.length || 0
---
<DashboardShell>
  <h1 class="text-2xl md:text-3xl font-bold mb-6">Overview</h1>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
    <Card title="Orders" value={countOrders} hint="Last 50 shown"/>
    <Card title="Revenue (approx)" value={`$${stats?.data?.reduce((s: number, o: { total?: number }) => s + (o.total || 0), 0).toFixed(2)}`} />
    <Card title="Products" value="—" hint="Visible on Products tab"/>
    <Card title="Customers" value="—" hint="Coming soon"/>
  </div>
</DashboardShell>