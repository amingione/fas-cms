---
import BaseLayout from '@/layouts/BaseLayout.astro';
import BrandDivider from '@/components/divider/brandDivider';

const studioUrl =
  import.meta.env.PUBLIC_STUDIO_URL ||
  import.meta.env.SANITY_STUDIO_NETLIFY_BASE ||
  '';
---
<BaseLayout>
  <div class="container mx-auto px-4 py-10 text-white" style="min-height:70vh">
    <BrandDivider />
    <h1 class="text-2xl md:text-3xl font-bold mb-4">Admin Dashboard</h1>
    {studioUrl ? (
      <iframe
        src={studioUrl}
        title="Sanity Studio"
        class="w-full h-[75vh] rounded border border-white/10 bg-black"
        sandbox="allow-scripts allow-same-origin allow-forms allow-popups"
      />
    ) : (
      <div class="max-w-2xl text-white/80">
        <p class="mb-3">
          Set <code class="px-1 rounded bg-white/10">PUBLIC_STUDIO_URL</code> (or <code class="px-1 rounded bg-white/10">SANITY_STUDIO_NETLIFY_BASE</code>)
          to embed your hosted Sanity Studio here.
        </p>
        <p class="mb-3">Default studio: <code class="px-1 rounded bg-white/10">https://fassanity.fasmotorsports.com</code></p>
        <p class="mb-3">Alternatively, mount a local Studio app within the repo and update the route as needed.</p>
      </div>
    )}
  </div>
</BaseLayout>
