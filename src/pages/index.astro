---
import BaseLayout from '../layouts/BaseLayout.astro';
import Button from '../components/Button.astro';
import SplinePortingShowcase from '../components/SplinePortingShowcase.jsx';
---

<style>
html, body {
  overflow-x: hidden;
}

#carousel-track {
  display: flex;
  transition: transform 0.5s ease-in-out;
}

.carousel-slide {
  min-width: 100%;
  box-sizing: border-box;
}
</style>

<BaseLayout>

<!-- HERO -->
<section class="relative bg-black/20">
  <img src="/images/hp-herofas.png" alt="FAS Hero TRX" class="w-full h-auto object-cover object-top md:object-center overflow-hidden" />
</section>

<!-- NO TUNE PULLEY CTA -->
<section class="bg-black py-5 text-white text-center relative overflow-hidden">
  <div class="w-full max-w-6xl mx-auto px-6">
    <div class="relative w-full overflow-x-hidden px-6 md:px-12" id="pulley-carousel">
      <div class="flex transition-transform duration-700 ease-in-out w-full" style="transform: translateX(0%)" id="carousel-track">
        <!-- Slide 1 -->
        <div class="carousel-slide w-full flex-shrink-0 flex flex-col-reverse md:flex-row justify-between items-center gap-10 max-w-6xl mx-auto px-4 md:px-0 animate-fade-in-up opacity-0 transform translate-y-10">
          <div class="text-center md:text-left w-full">
            <h2 class="font-cyber text-lg tracking-widest text-gray-400">F.A.S. PREDATOR PULLEY</h2>
            <h3 class="text-4xl md:text-5xl text-accent font-borg mt-2 mb-2">NO TUNE REQUIRED.</h3>
            <p class="text-sm px-4 text-gray-400 font-cyber max-w-md">Patent-pending innovation – precision-engineered for flawless performance.</p><br>
            <Button href="/shop/fas-predator-lower-pulley-no-tune-required" text="Shop Now" variant="multi-swipe-v2" />
          </div>
          <img src="/images/predatoru pulley homepage copy.png" class="max-w-[90%] md:max-w-sm mx-auto h-auto" alt="FAS Pulley Stack" />
        </div>

        <!-- Slide 2 -->
        <div class="carousel-slide w-full flex-shrink-0 flex flex-col-reverse md:flex-row justify-between items-center gap-10 max-w-6xl mx-auto px-4 md:px-0 animate-fade-in-up opacity-0 transform translate-y-10">
          <div class="text-center md:text-left w-full">
            <h2 class="font-cyber text-lg tracking-widest text-gray-400">HELLCAT SNOUT PORTING</h2>
            <h3 class="text-4xl md:text-5xl text-accent font-borg mt-2 mb-2">PRECISION MATCHED FLOW</h3>
            <p class="text-sm text-gray-400 font-cyber px-4 max-w-md">Increase throttle response and airflow efficiency with CNC porting.</p><br>
            <Button href="/shop/hellcat-108mm-package-snout-porting-and-billet-throttle-body" text="SHOP SALE" variant="multi-swipe-v2" />
          </div>
          <img src="/images/ported-snoutfas.png" class="max-w-[90%] md:max-w-sm mx-auto h-auto" alt="FAS Supercharger Package" />
        </div>

        <!-- Slide 3 -->
        <div class="carousel-slide w-full flex-shrink-0 flex flex-col-reverse md:flex-row justify-between items-center gap-10 max-w-6xl mx-auto px-4 md:px-0 animate-fade-in-up opacity-0 transform translate-y-10">
          <div class="text-center md:text-left w-full">
            <h2 class="font-cyber text-lg tracking-widest text-gray-400">F.A.S. 3.0L Whipple</h2>
            <h3 class="text-4xl md:text-5xl text-accent font-borg mt-2 mb-2">Precision Porting </h3>
            <p class="text-sm text-gray-400 font-cyber px-4 max-w-md">Supplying the most smooth & efficient finish possible</p><br>
            <Button href="/shop/3-0l-whipple-porting-service-hellcat" text="Shop Now" variant="multi-swipe-v2" />
          </div>
          <img src="/images/painted supercharger whippel pulley copy.png" class="max-w-[90%] md:max-w-sm mx-auto h-auto" alt="Race Hub" />
      </div>
    </div>
  </div>
</section>

<!-- 3D Porting Showcase Section -->
<div class="overflow-hidden">
  <SplinePortingShowcase client:load />
</div>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    let index = 0;
    const track = document.getElementById('carousel-track');
    const slides = document.querySelectorAll('.carousel-slide');
    const total = slides.length;

    // Set initial state
    slides.forEach((slide, idx) => {
      slide.style.transform = `translateX(${idx * 100}%)`;
    });

    // Auto-slide every 5 seconds
    setInterval(() => {
      index = (index + 1) % total;
      track.style.transform = `translateX(-${index * 100}%)`;
    }, 5000);
  });
</script>

<style>
@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(40px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}
.animate-fade-in-up {
  animation: fade-in-up 1s ease-out forwards;
}
</style>


<!-- FEATURED PRODUCTS -->
<section class="bg-transparent py-20 text-white px-4 sm:px-0 overflow-hidden">
  <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-8 px-6 text-center">
    <div class="bg-black/50 backdrop-blur-lg rounded-xl p-8 shadow-md border border-black/10">
      <img src="/images/fas pred pully HP{ copy.png" class="mx-auto h-40 object-contain" />
      <h4 class="font-bold text-primary font-borg text-xl mt-4">No Tune Predator Pulley</h4>
      <p class="text-accent font-ethno-italic mt-1">From $899.99</p><br>
      <Button href="/shop/fas-predator-lower-pulley-no-tune-required" text="Shop Now" variant="multi-swipe-v2" class="mt-4" />
    </div>
    <div class="bg-black/40 backdrop-blur-lg rounded-xl p-8 shadow-md border border-black/10">
      <img src="/images/billet bearing plate.png" class="mx-auto h-40 object-contain" />
      <h4 class="font-bold font-borg text-primary text-xl mt-4">Billet Bearing Plate</h4>
      <p class="text-accent font-ethno-italic mt-1">From $699.00</p><br>
      <Button href="/shop/2-4l-hellcat-billet-bearing-plate" text="Shop Now" variant="multi-swipe-v2" class="mt-4" />
    </div>
  </div>
</section>

<!-- SHOP HIGHLIGHTS -->
<section class="bg-black/30 backdrop-blur-lg py-20 px-4 text-white text-center">
  <h2 class="text-accent font-cyber tracking-wide text-sm mb-2">SUPERCHARGER ENGINEERING & MODIFICATION</h2>
  <h3 class="text-3xl font-borg mb-6">F.a.S. <p class="font-ethno text-white"><span></span></p> MOTORSPORTS</h3>
  <div class="flex justify-center gap-2 mb-10">
    <img src="/images/fas predator icon border copy.png" class="h-6" />
  </div>
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 px-6 overflow-hidden">
    <div class="bg-black/50 backdrop-blur-lg p-4 rounded-lg shadow">
      <img src="/images/fas-1x-2.png" class="h-28 mx-auto" />
      <p class="mt-3 font-cyber text-sm">F.A.S. 1100 Package </p><br>
      <p class="font-bold font-ethno text-accent">$29,999</p>
      <Button href="/shop/fas-1100-package" text="Shop Now" variant="swipe" class="mt-4" />
    </div>
    <div class="bg-black/50 backdrop-blur-lg p-4 rounded-lg shadow">
      <img src="/images/billet bearing plate.png" class="h-28 mx-auto" />
      <p class="mt-3 font-cyber text-sm">F.A.S. Hellcat Billet Supercharger Snout</p><br>
      <p class="font-bold font-ethno text-accent">$1,399.00</p>
      <Button href="/shop/2-4l-hellcat-billet-turbo-snout" text="Shop Now" variant="swipe" class="mt-4" />
    </div>
    <div class="bg-black/50 backdrop-blur-lg p-4 rounded-lg shadow">
      <img src="/images/2.7 dominator package.png" class="h-28 mx-auto" />
      <p class="mt-3 font-cyber text-sm">F.A.S. Dominator Race Porting Package</p><br>
      <p class="font-bold font-ethno text-accent">$2,175</p>
      <Button href="/shop/2-4l-hellcat-dominator-race-porting-package" text="Shop Now" variant="swipe" class="mt-4" />
    </div>
    <div class="bg-black/50 backdrop-blur-lg p-4 rounded-lg shadow">
      <img src="/images/dominator race package.png" class="h-28 mx-auto" />
      <p class="mt-3 font-cyber text-sm">F.A.S. Custom Supercharger Painting</p><br>
      <p class="font-bold font-ethno text-accent">$1,000.00</p>
      <Button href="/shop/custom-supercharger-painting" text="Shop Now" variant="swipe" class="mt-4" />
    </div>
  </div>
</section>

<!-- TRUCK CTA -->
<section class="relative bg-black text-white text-center py-10 md:py-16 overflow-hidden">
  <div class="absolute inset-0 bg-black/40 z-0"></div>
  <div class="relative z-10">
    <h2 class="text-3xl text-primary md:text-4xl font-ethno mb-2">TRUCK PACKAGES <span class="text-white">RAM TRX</span></h2>
    <p class="text-red font-cyber text-md mb-2">From mild to wild – our custom packages are built to dominate.</p>
    
    <div class="flex items-center justify-center relative z-10 mt-4">
      <img src="/images/TRX Truck Package FAS copy.png" class="mx-auto max-w-4xl" alt="TRX Truck Package" />
    </div>

    <Button href="/power-packages" text="Shop Packages" variant="default" class="mt-4 z-10" />
  </div>

  <!-- Background Image Overlay -->
  <img src="/images/ram-trx-background.webp" class="absolute inset-0 object-cover w-full h-full opacity-20 z-0" alt="RAM TRX Background" />
</section>

<!-- IGLA INSTALLER CTA -->
<section class="bg-black text-white text-center py-20 px-4 overflow-hidden">
  <h3 class="font-ethno text-lg text-accent mb-2">#1 IGLA INSTALLER IN SWFL</h3>
  <p class="font-cyber text-xl font-bold text-white mb-8">CERTIFIED IGLA INSTALLERS</p>

  <div class="flex flex-col items-center justify-center">
    <img src="/images/igla-page-trackhwak.webp" class="mx-auto mt-6 mb-5 max-w-lg" alt="IGLA Installation" />
    <Button href="/igla" text="Learn More About IGLA" class="mt-2" />
  </div>
</section>

</BaseLayout>