---
import { SignedIn, SignedOut, UserButton, SignInButton } from '@clerk/astro/components';
import BaseLayout from './BaseLayout.astro';
import MobileBaseLayout from './MobileBaseLayout.astro';

const { title, layout = Astro.locals.layout || 'base' } = Astro.props;
const Layout = layout === 'mobile' ? MobileBaseLayout : BaseLayout;
---

<Layout>
  <div class="p-4 flex justify-between items-center border-b border-white/10">
    <h1 class="text-lg font-bold text-primary">{title}</h1>
    <nav class="flex items-center gap-4">
      <SignedOut>
        <SignInButton mode="modal" />
      </SignedOut>
      <SignedIn>
        <UserButton />
      </SignedIn>
    </nav>
  </div>

  <main class="p-6 max-w-5xl mx-auto">
    <slot />
  </main>
</Layout>