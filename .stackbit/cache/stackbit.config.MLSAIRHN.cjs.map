{
  "version": 3,
  "sources": ["../../stackbit.config.ts"],
  "sourcesContent": ["// stackbit.config.ts\nimport { defineStackbitConfig } from '@stackbit/types';\nimport type { SiteMapEntry } from '@stackbit/types';\nimport { SanityContentSource } from '@stackbit/cms-sanity';\nimport { GitContentSource } from '@stackbit/cms-git';\n\nconst enableSanity = process.env.ENABLE_SANITY === 'true';\n\nexport default defineStackbitConfig({\n  stackbitVersion: '~0.6.0',\n  ssgName: 'custom',\n  nodeVersion: '18',\n\n  // Let NVE boot your Astro dev server on the port it chooses\n  devCommand: 'yarn astro dev --port 3000 --host 127.0.0.1',\n\n  // Astro integration (NVE watches for these)\n  experimental: {\n    ssg: {\n      name: 'Astro',\n      logPatterns: { up: ['is ready', 'astro'] },\n      directRoutes: { 'socket.io': 'socket.io' },\n      passthrough: ['/vite-hmr/**']\n    }\n  },\n\n  // Content sources for visual editing\n  contentSources: [\n    // Git-based content (Markdown/MDX/JSON/YAML) from this repo\n    new GitContentSource({\n      rootPath: __dirname,\n      contentDirs: ['content'],\n      models: [\n        // ========= Global Theme =========\n        {\n          name: 'Theme',\n          type: 'data',\n          filePath: 'content/theme.json',\n          fields: [\n            { name: 'brandName', type: 'string', required: true },\n            {\n              name: 'colors',\n              type: 'object',\n              fields: [\n                { name: 'primary', type: 'string', required: true },\n                { name: 'secondary', type: 'string' },\n                { name: 'accent', type: 'string' },\n                { name: 'background', type: 'string' },\n                { name: 'foreground', type: 'string' }\n              ]\n            },\n            {\n              name: 'buttons',\n              type: 'list',\n              items: {\n                type: 'object',\n                fields: [\n                  { name: 'variant', type: 'string', required: true },\n                  { name: 'className', type: 'string' }\n                ]\n              }\n            }\n          ]\n        },\n\n        // ========= Reusable Blocks =========\n        {\n          name: 'HeroBlock',\n          type: 'data',\n          filePath: 'content/blocks/hero/{slug}.json',\n          fields: [\n            { name: 'eyebrow', type: 'string' },\n            { name: 'headline', type: 'string', required: true },\n            { name: 'subtext', type: 'string' },\n            { name: 'imageSrc', type: 'string' },\n            {\n              name: 'cta',\n              type: 'object',\n              fields: [\n                { name: 'text', type: 'string' },\n                { name: 'href', type: 'string' },\n                { name: 'variant', type: 'string' }\n              ]\n            }\n          ]\n        },\n        {\n          name: 'RichTextBlock',\n          type: 'data',\n          filePath: 'content/blocks/rich/{slug}.json',\n          fields: [\n            { name: 'title', type: 'string' },\n            { name: 'body', type: 'markdown' }\n          ]\n        },\n\n        // ========= Pages =========\n        {\n          name: 'Page',\n          type: 'page',\n          urlPath: '/{slug}',\n          filePath: 'content/pages/{slug}.json',\n          fields: [\n            { name: 'title', type: 'string', required: true },\n            {\n              name: 'sections',\n              type: 'list',\n              items: {\n                type: 'object',\n                fields: [\n                  { name: 'blockType', type: 'string', required: true },\n                  // For inline content\n                  { name: 'headline', type: 'string' },\n                  { name: 'subtext', type: 'string' },\n                  { name: 'imageSrc', type: 'string' },\n                  {\n                    name: 'cta',\n                    type: 'object',\n                    fields: [\n                      { name: 'text', type: 'string' },\n                      { name: 'href', type: 'string' },\n                      { name: 'variant', type: 'string' }\n                    ]\n                  },\n                  // Or reference a reusable block by path\n                  {\n                    name: 'ref',\n                    type: 'string',\n                    description: 'Optional path to a block JSON file under content/blocks'\n                  }\n                ]\n              }\n            }\n          ]\n        }\n      ]\n    }),\n\n    // Optionally enable Sanity (toggle via ENABLE_SANITY=true)\n    ...(enableSanity\n      ? [\n          new SanityContentSource({\n            rootPath: __dirname,\n            projectId: process.env.SANITY_PROJECT_ID!,\n            dataset: process.env.SANITY_DATASET || 'production',\n            token: process.env.SANITY_ACCESS_TOKEN!, // READ token\n            studioUrl: process.env.SANITY_STUDIO_URL || 'https://fassanity.fasmotorsports.com',\n            studioInstallCommand: \"echo 'skipping install'\"\n          })\n        ]\n      : [])\n  ],\n  siteMap: ({ documents, models }) => {\n    // Find all models defined as pages\n    const pageModels = models.filter((m) => m.type === 'page');\n\n    // For each document whose model is a page, build a URL using its slug\n    const entries: SiteMapEntry[] = [];\n    for (const doc of documents) {\n      const isPageModel = pageModels.some((m) => m.name === doc.modelName);\n      if (!isPageModel) continue;\n\n      const slug = (doc as any).slug || (doc as any).fields?.slug || doc.id;\n      const isHome = slug === 'index';\n      const urlPath = isHome ? '/' : `/${slug}`;\n\n      entries.push({\n        stableId: doc.id,\n        urlPath,\n        document: doc,\n        isHomePage: isHome\n      });\n    }\n    return entries;\n  },\n  ...(enableSanity\n    ? {\n        modelExtensions: [\n          { name: 'product', type: 'page', urlPath: '/shop/{slug}' },\n          { name: 'category', type: 'page', urlPath: '/shop?category={slug}' }\n        ]\n      }\n    : {})\n});\n"],
  "mappings": "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",
  "names": []
}
