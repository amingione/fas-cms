import { e as createComponent, f as createAstro, m as maybeRenderHead, h as addAttribute, j as renderScript, r as renderTemplate, i as renderComponent, k as Fragment } from '../chunks/astro/server_CMKpZIe-.mjs';
import 'kleur/colors';
import 'html-escaper';
import { $ as $$BaseLayout } from '../chunks/BaseLayout_Bgc6huvc.mjs';
import 'clsx';
/* empty css                                 */
export { renderers } from '../renderers.mjs';

const $$Astro$1 = createAstro();
const $$ProductCard = createComponent(($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$1, $$props, $$slots);
  Astro2.self = $$ProductCard;
  const { product } = Astro2.props;
  const productImage = product.images?.[0]?.asset?.url || "/images/placeholder-product.png";
  const productPrice = product.price ? `$${product.price.toFixed(2)}` : "\u2014";
  return renderTemplate`${maybeRenderHead()}<div class="bg-black/10 rounded-[10px] shadow-[inset_0_0_10px_rgba(0,0,0,0.5)] hover:shadow-[0_8px_20px_rgba(0,0,0,0.5)] overflow-hidden transform transition-all duration-300 group"> <div class="p-4 h-52 sm:h-64 flex justify-center items-center overflow-hidden"> <img${addAttribute(productImage, "src")}${addAttribute(product.name, "alt")} class="h-full max-h-full object-contain transition-transform duration-300 ease-in-out group-hover:scale-105 group-hover:-rotate-1"> </div> <div class="p-4 space-y-2 text-center"> <h2 class="text-base sm:text-sm font-ethno font-semibold">${product.name}</h2> <p class="text-lg sm:text-xl font-captain text-primary">${productPrice}</p> <div class="flex items-center justify-center gap-2 mt-4"> <button class="add-to-cart relative group inline-block px-4 py-1.5 text-sm text-white bg-transparent border border-white uppercase tracking-wider font-kwajong overflow-hidden transition-all duration-300"${addAttribute(product._id, "data-product-id")}> <span class="relative z-10 flex items-center justify-center gap-2 group-hover:text-white">
Add
</span> <span class="absolute inset-0 bg-primary transform -translate-x-full group-hover:translate-x-0 text-black transition-transform duration-300 z-0"></span> </button> ${product.slug?.current ? renderTemplate`<a${addAttribute(`/shop/${product.slug.current}`, "href")} class="px-4 py-1.5 text-sm border border-white text-white font-kwajong hover:scale-105 transition-transform duration-300 uppercase tracking-wider flex items-center gap-2">
Details
<svg class="w-3.5 h-3.5 transform transition-transform duration-300" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path> </svg> </a>` : renderTemplate`<span class="text-gray-500 text-sm">No details available</span>`} </div> </div> </div> <div id="product-toast" class="fixed top-20 right-6 z-50 hidden px-4 py-3 backdrop-blur bg-white/10 text-white font-bold shadow-lg transition-all duration-300"></div> ${renderScript($$result, "/Users/ambermin/Documents/Workspace/DevProjects/GitHub/fas-cms/src/components/ProductCard.astro?astro&type=script&index=0&lang.ts")}`;
}, "/Users/ambermin/Documents/Workspace/DevProjects/GitHub/fas-cms/src/components/ProductCard.astro", void 0);

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Astro = createAstro();
const prerender = false;
const $$Index = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$Index;
  const requestUrl = new URL(Astro2.url);
  const pageParam = requestUrl.searchParams.get("page");
  const page = pageParam && !isNaN(Number(pageParam)) && Number(pageParam) > 0 ? Number(pageParam) : 1;
  const PAGE_SIZE = 9;
  const start = (page - 1) * PAGE_SIZE;
  const end = start + PAGE_SIZE;
  const loadProducts = async () => {
    const query = `*[_type == "wooProduct"] | order(_createdAt desc)[${start}...${end}] {
    _id, title, price, horsepower, tune_required, slug { current }, images[]{ asset->{ url } }
  }`;
    const response = await fetch(`https://${"r4og35qd"}.api.sanity.io/v1/data/query/production?query=${encodeURIComponent(query)}`, {
      headers: {
        Authorization: `Bearer ${"skoeoWxQQxLGGnG1ImQglnNm1vrxk4R6wWTfvoHAuSAW4RbqBCFCH7KKW8dlH1CBiaIZiZ3jIJf1ALLz2qoApjokBbCaFe3Pdh1k3734VE6iFXVHdqrpIgs18zg0PfOtAHg09ZlR4scOSJ49vdbBFU5E8iPPDfnFJKSQArwdwVYvOK4tM1Gv"}`
      }
    });
    const result = await response.json();
    return result.result || [];
  };
  const countQuery = `count(*[_type == "wooProduct"])`;
  const countRes = await fetch(`https://${"r4og35qd"}.api.sanity.io/v1/data/query/production?query=${encodeURIComponent(countQuery)}`, {
    headers: { Authorization: `Bearer ${"skoeoWxQQxLGGnG1ImQglnNm1vrxk4R6wWTfvoHAuSAW4RbqBCFCH7KKW8dlH1CBiaIZiZ3jIJf1ALLz2qoApjokBbCaFe3Pdh1k3734VE6iFXVHdqrpIgs18zg0PfOtAHg09ZlR4scOSJ49vdbBFU5E8iPPDfnFJKSQArwdwVYvOK4tM1Gv"}` }
  });
  const totalCount = (await countRes.json()).result;
  const totalPages = Math.ceil(totalCount / 9);
  Array.from({ length: totalPages }, (_, i) => i + 1);
  const products = await loadProducts();
  return renderTemplate`${renderComponent($$result, "BaseLayout", $$BaseLayout, { "data-astro-cid-2eaphvki": true }, { "default": async ($$result2) => renderTemplate(_a || (_a = __template([" ", '<section class="p-10 space-y-10 bg-transparent text-white max-w-7xl mx-auto" data-astro-cid-2eaphvki> <h1 class="font-ethno text-3xl font-bold text-accent" data-astro-cid-2eaphvki>Shop</h1> <!-- Filters --> <div class="bg-transparent p-6 rounded-[10px] shadow-md flex flex-col sm:flex-row gap-6" data-astro-cid-2eaphvki> <div class="flex-1 min-w-[200px]" data-astro-cid-2eaphvki> <label for="categoryFilter" class="font-borg block mb-2 font-semibold text-primary" data-astro-cid-2eaphvki>Filter by Vehicle</label> <select id="categoryFilter" class="w-full bg-black text-white border border-gray-600 rounded px-4 py-2" data-astro-cid-2eaphvki> <option value="" data-astro-cid-2eaphvki>All Models</option> <option value="Charger" data-astro-cid-2eaphvki>Charger</option> <option value="Challenger" data-astro-cid-2eaphvki>Challenger</option> <option value="TRX" data-astro-cid-2eaphvki>TRX</option> <option value="Trackhawk" data-astro-cid-2eaphvki>Trackhawk</option> <option value="Demon" data-astro-cid-2eaphvki>Demon</option> <option value="Redeye" data-astro-cid-2eaphvki>Redeye</option> <option value="Durango" data-astro-cid-2eaphvki>Durango</option> <option value="Mustang" data-astro-cid-2eaphvki>Mustang</option> <option value="Raptor" data-astro-cid-2eaphvki>Raptor</option> <option value="Shelby Truck" data-astro-cid-2eaphvki>Shelby Truck</option> <option value="F150" data-astro-cid-2eaphvki>F150</option> <option value="F250" data-astro-cid-2eaphvki>F250</option> <option value="F350" data-astro-cid-2eaphvki>F350</option> <option value="F450" data-astro-cid-2eaphvki>F450</option> </select> </div> <div class="flex-1 min-w-[200px]" data-astro-cid-2eaphvki> <label for="tuneFilter" class="font-borg block mb-2 font-semibold text-primary" data-astro-cid-2eaphvki>Tune Required?</label> <select id="tuneFilter" class="w-full bg-black text-white border border-gray-600 rounded px-4 py-2" data-astro-cid-2eaphvki> <option value="" data-astro-cid-2eaphvki>All Builds</option> <option value="yes" data-astro-cid-2eaphvki>Tune Required</option> <option value="no" data-astro-cid-2eaphvki>No Tune Needed</option> </select> </div> </div> <!-- HP Range Filter --> <div class="bg-transparent p-6 rounded-[10px] shadow-md flex flex-col sm:flex-row" data-astro-cid-2eaphvki> <label for="hpRange" class="font-borg mb-2 font-semibold text-primary" data-astro-cid-2eaphvki>Filter by Horsepower (600â€“1500+hp)</label> <input id="hpRange" type="range" min="600" max="1500" step="50" value="1500" class="w-full sm:w-1/2 align-left h-2 rounded-lg appearance-none cursor-pointer accent-primary transition-all duration-300" style="background: linear-gradient(to right, #dc2626 100%, #4b5563 0%)" data-astro-cid-2eaphvki> <p class="mt-2 text-sm font-cyber-italic text-gray-300" data-astro-cid-2eaphvki>Showing up to: <span id="hpValue" class="font-bold text-white text-2xl" data-astro-cid-2eaphvki>1500hp+</span></p> </div> <!-- Product Grid --> <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8" data-astro-cid-2eaphvki> ', ' </div> <!-- Fancy Pagination --> <div class="flex justify-center mt-12" data-astro-cid-2eaphvki> <div class="backdrop-blur-md bg-white/10 text-white px-6 py-3 rounded-full flex items-center space-x-2 shadow-lg border border-white/10" data-astro-cid-2eaphvki> ', " ", " ", " </div> </div> </section>  <script>\n    if (typeof window !== 'undefined') {\n      const slider = document.getElementById('hpRange');\n      const output = document.getElementById('hpValue');\n      const categorySelect = document.getElementById('categoryFilter');\n      const tuneSelect = document.getElementById('tuneFilter');\n\n      function updateSliderBackground(sliderEl) {\n        const val = ((sliderEl.value - sliderEl.min) / (sliderEl.max - sliderEl.min)) * 100;\n        sliderEl.style.background = `linear-gradient(to right, #dc2626 ${val}%, #4b5563 ${val}%)`;\n        output.textContent = sliderEl.value + 'hp+';\n      }\n\n      function filterProducts() {\n        const selectedCategory = categorySelect.value.toLowerCase();\n        const selectedTune = tuneSelect.value;\n        const maxHp = parseInt(slider.value);\n\n        document.querySelectorAll('[data-product]')?.forEach(card => {\n          const model = card.dataset.model?.toLowerCase() || '';\n          const tune = card.dataset.tune || '';\n          const hp = parseInt(card.dataset.hp || '0');\n\n          const show =\n            (!selectedCategory || model.includes(selectedCategory)) &&\n            (!selectedTune || tune === selectedTune) &&\n            hp <= maxHp;\n\n          card.style.display = show ? 'block' : 'none';\n        });\n      }\n\n      document.addEventListener('DOMContentLoaded', () => {\n        updateSliderBackground(slider);\n        filterProducts();\n\n        slider.addEventListener('input', () => {\n          updateSliderBackground(slider);\n          filterProducts();\n        });\n\n        categorySelect.addEventListener('change', filterProducts);\n        tuneSelect.addEventListener('change', filterProducts);\n      });\n    }\n  </script> "], [" ", '<section class="p-10 space-y-10 bg-transparent text-white max-w-7xl mx-auto" data-astro-cid-2eaphvki> <h1 class="font-ethno text-3xl font-bold text-accent" data-astro-cid-2eaphvki>Shop</h1> <!-- Filters --> <div class="bg-transparent p-6 rounded-[10px] shadow-md flex flex-col sm:flex-row gap-6" data-astro-cid-2eaphvki> <div class="flex-1 min-w-[200px]" data-astro-cid-2eaphvki> <label for="categoryFilter" class="font-borg block mb-2 font-semibold text-primary" data-astro-cid-2eaphvki>Filter by Vehicle</label> <select id="categoryFilter" class="w-full bg-black text-white border border-gray-600 rounded px-4 py-2" data-astro-cid-2eaphvki> <option value="" data-astro-cid-2eaphvki>All Models</option> <option value="Charger" data-astro-cid-2eaphvki>Charger</option> <option value="Challenger" data-astro-cid-2eaphvki>Challenger</option> <option value="TRX" data-astro-cid-2eaphvki>TRX</option> <option value="Trackhawk" data-astro-cid-2eaphvki>Trackhawk</option> <option value="Demon" data-astro-cid-2eaphvki>Demon</option> <option value="Redeye" data-astro-cid-2eaphvki>Redeye</option> <option value="Durango" data-astro-cid-2eaphvki>Durango</option> <option value="Mustang" data-astro-cid-2eaphvki>Mustang</option> <option value="Raptor" data-astro-cid-2eaphvki>Raptor</option> <option value="Shelby Truck" data-astro-cid-2eaphvki>Shelby Truck</option> <option value="F150" data-astro-cid-2eaphvki>F150</option> <option value="F250" data-astro-cid-2eaphvki>F250</option> <option value="F350" data-astro-cid-2eaphvki>F350</option> <option value="F450" data-astro-cid-2eaphvki>F450</option> </select> </div> <div class="flex-1 min-w-[200px]" data-astro-cid-2eaphvki> <label for="tuneFilter" class="font-borg block mb-2 font-semibold text-primary" data-astro-cid-2eaphvki>Tune Required?</label> <select id="tuneFilter" class="w-full bg-black text-white border border-gray-600 rounded px-4 py-2" data-astro-cid-2eaphvki> <option value="" data-astro-cid-2eaphvki>All Builds</option> <option value="yes" data-astro-cid-2eaphvki>Tune Required</option> <option value="no" data-astro-cid-2eaphvki>No Tune Needed</option> </select> </div> </div> <!-- HP Range Filter --> <div class="bg-transparent p-6 rounded-[10px] shadow-md flex flex-col sm:flex-row" data-astro-cid-2eaphvki> <label for="hpRange" class="font-borg mb-2 font-semibold text-primary" data-astro-cid-2eaphvki>Filter by Horsepower (600â€“1500+hp)</label> <input id="hpRange" type="range" min="600" max="1500" step="50" value="1500" class="w-full sm:w-1/2 align-left h-2 rounded-lg appearance-none cursor-pointer accent-primary transition-all duration-300" style="background: linear-gradient(to right, #dc2626 100%, #4b5563 0%)" data-astro-cid-2eaphvki> <p class="mt-2 text-sm font-cyber-italic text-gray-300" data-astro-cid-2eaphvki>Showing up to: <span id="hpValue" class="font-bold text-white text-2xl" data-astro-cid-2eaphvki>1500hp+</span></p> </div> <!-- Product Grid --> <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8" data-astro-cid-2eaphvki> ', ' </div> <!-- Fancy Pagination --> <div class="flex justify-center mt-12" data-astro-cid-2eaphvki> <div class="backdrop-blur-md bg-white/10 text-white px-6 py-3 rounded-full flex items-center space-x-2 shadow-lg border border-white/10" data-astro-cid-2eaphvki> ', " ", " ", " </div> </div> </section>  <script>\n    if (typeof window !== 'undefined') {\n      const slider = document.getElementById('hpRange');\n      const output = document.getElementById('hpValue');\n      const categorySelect = document.getElementById('categoryFilter');\n      const tuneSelect = document.getElementById('tuneFilter');\n\n      function updateSliderBackground(sliderEl) {\n        const val = ((sliderEl.value - sliderEl.min) / (sliderEl.max - sliderEl.min)) * 100;\n        sliderEl.style.background = \\`linear-gradient(to right, #dc2626 \\${val}%, #4b5563 \\${val}%)\\`;\n        output.textContent = sliderEl.value + 'hp+';\n      }\n\n      function filterProducts() {\n        const selectedCategory = categorySelect.value.toLowerCase();\n        const selectedTune = tuneSelect.value;\n        const maxHp = parseInt(slider.value);\n\n        document.querySelectorAll('[data-product]')?.forEach(card => {\n          const model = card.dataset.model?.toLowerCase() || '';\n          const tune = card.dataset.tune || '';\n          const hp = parseInt(card.dataset.hp || '0');\n\n          const show =\n            (!selectedCategory || model.includes(selectedCategory)) &&\n            (!selectedTune || tune === selectedTune) &&\n            hp <= maxHp;\n\n          card.style.display = show ? 'block' : 'none';\n        });\n      }\n\n      document.addEventListener('DOMContentLoaded', () => {\n        updateSliderBackground(slider);\n        filterProducts();\n\n        slider.addEventListener('input', () => {\n          updateSliderBackground(slider);\n          filterProducts();\n        });\n\n        categorySelect.addEventListener('change', filterProducts);\n        tuneSelect.addEventListener('change', filterProducts);\n      });\n    }\n  </script> "])), maybeRenderHead(), products.map((product) => renderTemplate`<div data-product${addAttribute(product.name, "data-model")}${addAttribute(product.tune_required, "data-tune")}${addAttribute(product.horsepower || 0, "data-hp")} data-astro-cid-2eaphvki> <a${addAttribute(`/shop/${product.slug?.current || ""}`, "href")} data-astro-cid-2eaphvki> ${renderComponent($$result2, "ProductCard", $$ProductCard, { "product": product, "data-astro-cid-2eaphvki": true })} </a> </div>`), page > 1 && renderTemplate`<a${addAttribute(`?page=${page - 1}`, "href")} class="px-3 py-1 hover:text-accent" data-astro-cid-2eaphvki>Prev</a>`, (() => {
    const maxVisible = 5;
    const half = Math.floor(maxVisible / 2);
    let start2 = Math.max(1, page - half);
    let end2 = Math.min(totalPages, start2 + maxVisible - 1);
    if (end2 - start2 < maxVisible - 1) {
      start2 = Math.max(1, end2 - maxVisible + 1);
    }
    const visiblePages = [];
    for (let i = start2; i <= end2; i++) renderTemplate`${visiblePages.push(i)}`;
    return renderTemplate`${renderComponent($$result2, "Fragment", Fragment, { "data-astro-cid-2eaphvki": true }, { "default": async ($$result3) => renderTemplate`${start2 > 1 && renderTemplate`${renderComponent($$result3, "Fragment", Fragment, { "data-astro-cid-2eaphvki": true }, { "default": async ($$result4) => renderTemplate` <a${addAttribute(`?page=1`, "href")} class="px-3 py-1 rounded-md hover:text-accent" data-astro-cid-2eaphvki>1</a> <span class="px-2 text-gray-400" data-astro-cid-2eaphvki>...</span> ` })}`}${visiblePages.map((i) => renderTemplate`<a${addAttribute(`?page=${i}`, "href")}${addAttribute(`px-3 py-1 rounded-md ${i === Number(page) ? "bg-accent text-black font-bold" : "hover:text-accent"}`, "class")} data-astro-cid-2eaphvki> ${i} </a>`)}${end2 < totalPages && renderTemplate`${renderComponent($$result3, "Fragment", Fragment, { "data-astro-cid-2eaphvki": true }, { "default": async ($$result4) => renderTemplate` <span class="px-2 text-gray-400" data-astro-cid-2eaphvki>...</span> <a${addAttribute(`?page=${totalPages}`, "href")} class="px-3 py-1 rounded-md hover:text-accent" data-astro-cid-2eaphvki>${totalPages}</a> ` })}`}` })}`;
  })(), page < totalPages && renderTemplate`<a${addAttribute(`?page=${page + 1}`, "href")} class="px-3 py-1 hover:text-accent" data-astro-cid-2eaphvki>Next</a>`) })}`;
}, "/Users/ambermin/Documents/Workspace/DevProjects/GitHub/fas-cms/src/pages/shop/index.astro", void 0);
const $$file = "/Users/ambermin/Documents/Workspace/DevProjects/GitHub/fas-cms/src/pages/shop/index.astro";
const $$url = "/shop";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$Index,
  file: $$file,
  prerender,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
